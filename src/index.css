@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* WebOS Space Theme */
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;

    --card: 222 47% 8%;
    --card-foreground: 210 40% 98%;

    --popover: 222 47% 10%;
    --popover-foreground: 210 40% 98%;

    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 6%;

    --secondary: 222 47% 14%;
    --secondary-foreground: 210 40% 98%;

    --muted: 222 47% 12%;
    --muted-foreground: 215 20% 65%;

    --accent: 280 100% 70%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 217 33% 18%;
    --input: 217 33% 18%;
    --ring: 217 91% 60%;

    --radius: 0.75rem;

    /* WebOS Custom Variables */
    --os-glass: 222 47% 12%;
    --os-glass-border: 217 33% 25%;
    --os-taskbar: 222 47% 8%;
    --os-window-header: 222 47% 10%;
    --os-accent-glow: 217 91% 60%;
    --os-success: 142 76% 45%;
    --os-warning: 38 92% 50%;
    
    /* Gradients */
    --gradient-cosmic: linear-gradient(135deg, hsl(222 47% 6%) 0%, hsl(260 50% 10%) 50%, hsl(222 47% 8%) 100%);
    --gradient-glass: linear-gradient(135deg, hsla(217 33% 25% / 0.3) 0%, hsla(217 33% 20% / 0.1) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(217 91% 60%) 0%, hsl(280 100% 70%) 100%);
    --gradient-window: linear-gradient(180deg, hsla(222 47% 15% / 0.9) 0%, hsla(222 47% 10% / 0.95) 100%);

    /* Shadows */
    --shadow-window: 0 25px 50px -12px hsla(0 0% 0% / 0.5), 0 0 0 1px hsla(217 33% 25% / 0.3);
    --shadow-taskbar: 0 -4px 30px hsla(0 0% 0% / 0.3);
    --shadow-glow: 0 0 40px hsla(217 91% 60% / 0.3);
    --shadow-icon: 0 4px 12px hsla(0 0% 0% / 0.3);

    /* Sidebar (keeping for compatibility) */
    --sidebar-background: 222 47% 8%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 222 47% 6%;
    --sidebar-accent: 222 47% 14%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 18%;
    --sidebar-ring: 217 91% 60%;
  }

  .light {
    --background: 0 0% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 217 91% 50%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 14% 96%;
    --secondary-foreground: 222 47% 11%;

    --muted: 220 14% 96%;
    --muted-foreground: 220 9% 46%;

    --accent: 280 100% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 217 91% 50%;

    --os-glass: 0 0% 100%;
    --os-glass-border: 220 13% 85%;
    --os-taskbar: 0 0% 98%;
    --os-window-header: 0 0% 100%;
    --os-accent-glow: 217 91% 50%;

    --gradient-cosmic: linear-gradient(135deg, hsl(220 20% 97%) 0%, hsl(220 30% 95%) 50%, hsl(220 20% 98%) 100%);
    --gradient-glass: linear-gradient(135deg, hsla(0 0% 100% / 0.8) 0%, hsla(220 20% 98% / 0.6) 100%);
    --gradient-window: linear-gradient(180deg, hsla(0 0% 100% / 0.95) 0%, hsla(220 20% 98% / 0.98) 100%);

    --shadow-window: 0 25px 50px -12px hsla(220 20% 20% / 0.15), 0 0 0 1px hsla(220 13% 85% / 0.5);
    --shadow-taskbar: 0 -4px 30px hsla(220 20% 20% / 0.1);
    --shadow-glow: 0 0 40px hsla(217 91% 50% / 0.2);
    --shadow-icon: 0 4px 12px hsla(220 20% 20% / 0.1);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
  }
}

@layer components {
  /* WebOS Glass Effect */
  .os-glass {
    @apply backdrop-blur-xl border rounded-xl;
    background: var(--gradient-glass);
    border-color: hsl(var(--os-glass-border));
  }

  .os-window {
    @apply backdrop-blur-2xl rounded-xl overflow-hidden;
    background: var(--gradient-window);
    box-shadow: var(--shadow-window);
  }

  .os-taskbar {
    @apply backdrop-blur-2xl border-t;
    background: hsla(var(--os-taskbar) / 0.85);
    border-color: hsl(var(--os-glass-border));
    box-shadow: var(--shadow-taskbar);
  }

  .os-icon {
    @apply rounded-xl p-3 transition-all duration-200 cursor-pointer;
    @apply hover:bg-secondary/50 active:scale-95;
  }

  .os-icon:hover {
    box-shadow: var(--shadow-icon);
  }

  .os-button {
    @apply rounded-lg px-4 py-2 font-medium transition-all duration-200;
    @apply hover:brightness-110 active:scale-[0.98];
  }

  .os-button-primary {
    @apply os-button text-primary-foreground;
    background: var(--gradient-accent);
    box-shadow: var(--shadow-glow);
  }

  .os-input {
    @apply rounded-lg px-3 py-2 bg-secondary border border-border;
    @apply focus:outline-none focus:ring-2 focus:ring-primary/50;
    @apply placeholder:text-muted-foreground;
  }

  /* Window Controls */
  .window-control {
    @apply w-3 h-3 rounded-full transition-all duration-150;
    @apply hover:brightness-110 active:scale-90;
  }

  .window-control-close {
    @apply window-control bg-destructive;
  }

  .window-control-minimize {
    @apply window-control;
    background: hsl(var(--os-warning));
  }

  .window-control-maximize {
    @apply window-control;
    background: hsl(var(--os-success));
  }

  /* Scrollbar Styling */
  .os-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .os-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .os-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/30 rounded-full;
  }

  .os-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/50;
  }

  /* Start Menu */
  .start-menu {
    @apply backdrop-blur-2xl rounded-xl border;
    background: var(--gradient-window);
    border-color: hsl(var(--os-glass-border));
    box-shadow: var(--shadow-window);
  }

  /* Context Menu */
  .context-menu {
    @apply backdrop-blur-xl rounded-lg border py-1 min-w-[180px];
    background: hsla(var(--os-glass) / 0.95);
    border-color: hsl(var(--os-glass-border));
    box-shadow: var(--shadow-window);
  }

  .context-menu-item {
    @apply px-3 py-2 cursor-pointer transition-colors duration-150;
    @apply hover:bg-primary/20 flex items-center gap-2 text-sm;
  }

  /* Desktop Icon */
  .desktop-icon {
    @apply flex flex-col items-center gap-1 p-2 rounded-lg cursor-pointer;
    @apply transition-all duration-200 select-none;
    @apply hover:bg-secondary/40 active:scale-95;
    width: 80px;
  }

  .desktop-icon.selected {
    @apply bg-primary/30 ring-1 ring-primary/50;
  }

  .desktop-icon-image {
    @apply w-12 h-12 object-contain drop-shadow-lg;
  }

  .desktop-icon-label {
    @apply text-xs text-center text-foreground font-medium;
    @apply drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)];
    text-shadow: 0 1px 3px hsla(0 0% 0% / 0.8);
  }
}

@layer utilities {
  .text-glow {
    text-shadow: 0 0 20px hsla(var(--os-accent-glow) / 0.5);
  }

  .animate-fade-up {
    animation: fadeUp 0.3s ease-out forwards;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-boot {
    animation: boot 2s ease-out forwards;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(100%);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes boot {
    0% {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 1;
    }
  }
}
